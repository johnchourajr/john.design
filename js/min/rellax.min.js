!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}(this,function(){var e=function(t,o){var n=Object.create(e.prototype),s=0,i=0,r=[],a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};if(n.options={speed:-2},o&&Object.keys(o).forEach(function(e){n.options[e]=o[e]}),-10>n.options.speed?n.options.speed=-10:10<n.options.speed&&(n.options.speed=10),t||(t=".rellax"),document.getElementsByClassName(t.replace(".","")))n.elems=document.getElementsByClassName(t.replace(".",""));else{if(!1===document.querySelector(t))throw Error("The elements you're trying to select don't exist.");n.elems=querySelector(t)}var d=function(e){var t=0+e.getBoundingClientRect().top,o=e.clientHeight||e.offsetHeight||e.scrollHeight,s=(0-t+i)/(o+i),r=e.getAttribute("data-rellax-speed")?e.getAttribute("data-rellax-speed"):n.options.speed,s=Math.round(100*r*(1-s));return e=e.style.cssText.slice(11),{base:s,top:t,height:o,speed:r,style:e}},l=function(){var e=s;return s=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e!=s?!0:!1},u=function(){l()&&m(),a(u)},m=function(){for(var e=0;e<n.elems.length;e++){var t="translate3d(0,"+(Math.round(100*r[e].speed*(1-(s-r[e].top+i)/(r[e].height+i)))-r[e].base)+"px,0)"+r[e].style;n.elems[e].style.cssText="-webkit-transform:"+t+";-moz-transform:"+t+";transform:"+t+";"}};return function(){i=window.innerHeight,l();for(var e=0;e<n.elems.length;e++){var t=d(n.elems[e]);r.push(t)}window.addEventListener("resize",function(){m()}),u(),m()}(),Object.freeze(),n};return e});
